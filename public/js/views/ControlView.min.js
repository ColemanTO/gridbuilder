YUI.add("controlView",function(e,t){var n=e.Base.create("controlView",e.View,[],{events:{"#grid-width":{keyup:"widthChanged"},"#grid-columns":{keyup:"columnsChanged"},"#grid-layout-fixed":{click:"layoutChanged"},"#grid-gutter":{keyup:"gutterChanged"},"#grid-layout-fluid":{click:"layoutChanged"},"#grid-responsive-yes":{click:"responsiveChanged"},"#grid-responsive-no":{click:"responsiveChanged"},"#default-media-queries":{click:"defaultMediaQueriesClicked"},"#add-media-queries":{click:"addMediaQueryClicked"}},initializer:function(e){var t=this.get("model");t.after("mediaQueriesChange",this.updateMediaQueries,this)},render:function(){var t=this.get("container");t.inDoc()||e.one("body").append(t)},widthChanged:function(e){var t=parseInt(e.currentTarget._node.value,10);this.get("model").set("width",t)},columnsChanged:function(e){var t=parseInt(e.currentTarget._node.value,10);this.get("model").set("columns",t)},layoutChanged:function(e){var t=e.target._node.id,n=this.get("model");t==="grid-layout-fixed"?n.set("usePixels",!0):t==="grid-layout-fluid"&&n.set("usePixels",!1)},gutterChanged:function(t){var n=parseInt(t.currentTarget._node.value,10);this.get("model").set("gutter",n);e.all(".demo-unit").setStyles({marginLeft:n/2+"px",marginRight:n/2+"px"})},responsiveChanged:function(t){var n=t.target._node.id,r=this.get("model");if(n==="grid-responsive-yes"){r.set("isResponsive",!0);e.all("#media-queries input[type='button']").set("disabled",!1)}else if(n==="grid-responsive-no"){r.set("isResponsive",!1);e.all("#media-queries input[type='button']").set("disabled",!0)}},defaultMediaQueriesClicked:function(e){this.get("model").set("mediaQueries",this.get("defaultMediaQueries"))},addMediaQueryClicked:function(e){alert("Add Media Queries Clicked")},updateMediaQueries:function(t){e.log(t);var n="",r=0,i=this.get("candyTemplate");e.log(i);for(;r<t.newVal.length;r++)n+=e.Lang.sub(i,{mqId:t.newVal[r].id,content:t.newVal[r].id});this.get("candyContainer").setHTML(n);this._mqSubscription=this.get("container").on("click",this.mediaQueryClicked,this)},mediaQueryClicked:function(t){var n,r,i=this.get("editMediaQueryView");if(e.one(t.target).hasClass("candy")){n=e.one(t.target);r=e.Array.find(this.get("defaultMediaQueries"),function(e){return e.id===n.getAttribute("data-mqId")?!0:!1},this);i===undefined?i=new e.GB.EditMediaQueryView({model:new e.Model(r)}):i.set("model",new e.Model(r));this.set("editMediaQueryView",i);i.render()}},_mqSubscription:undefined},{ATTRS:{container:{valueFn:function(){return e.one("#controlPanel")}},model:{value:undefined},candyTemplate:{value:'<span class="candy yui3-u" data-mqId="{mqId}">{content}</span>'},candyContainer:{valueFn:function(){return e.one("#current-media-queries")}},defaultMediaQueries:{value:[{max:480,id:"< 481px",collapse:"all"},{max:767,id:"< 768px",collapse:"all"},{min:768,max:979,id:"768px < X < 979px",collapse:[]}]},editMediaQueryView:{value:undefined}}});e.namespace("GB").ControlView=n},"0.0.1",{requires:["node","view","editMediaQueryView"]});